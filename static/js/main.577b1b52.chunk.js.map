{"version":3,"sources":["core/constants/route.constants.tsx","core/components/PrivateRoute/PrivateRoute.tsx","core/components/Form/Form.tsx","core/components/FormButton/FormButton.tsx","core/components/ModalButton/ModalButton.tsx","core/components/Modal/Modal.tsx","core/constants/auth.constants.tsx","core/helpers/history.tsx","firebase.tsx","core/services/firebase.auth.service.tsx","core/services/firebase.db.service.tsx","core/actions/auth.actions.tsx","core/components/Loader/Loader.tsx","pages/Signin/Signin.tsx","pages/Register/Register.tsx","core/components/PaintButton/PaintButton.tsx","assets/img/picture.svg","assets/img/logout.svg","core/components/SignoutButton/SignoutButton.tsx","core/constants/draw.constants.tsx","core/actions/draw.actions.tsx","pages/Paint/components/NavBar/NavBar.tsx","pages/Paint/components/ColorBar/ColorBar.tsx","assets/img/pencil.svg","pages/Paint/components/PaintBrush/PaintBrush.tsx","assets/img/circle.svg","pages/Paint/components/Circle/Circle.tsx","assets/img/line.svg","pages/Paint/components/Line/Line.tsx","assets/img/hexagon.svg","pages/Paint/components/Hexagon/Hexagon.tsx","assets/img/rectangle.svg","pages/Paint/components/Rectangle/Rectangle.tsx","assets/img/star.svg","pages/Paint/components/Star/Star.tsx","assets/img/points.svg","pages/Paint/components/ShapeBar/ShapeBar.tsx","pages/Paint/components/SizeBar/SizeBar.tsx","pages/Paint/components/DrawBar/DrawBar.tsx","pages/Paint/components/SaveButton/SaveButton.tsx","assets/img/disk.svg","core/services/draw.service.tsx","assets/img/trash.svg","pages/Paint/components/PaintToolBar/PaintToolBar.tsx","pages/Paint/components/MainView/MainView.tsx","pages/Paint/Paint.tsx","core/constants/show.constants.tsx","core/actions/show.actions.tsx","pages/Gallery/components/GalleryList/GalleryList.tsx","core/reducers/auth.reducer.tsx","core/reducers/draw.reducer.tsx","core/reducers/show.reducer.tsx","core/reducers/root.reducer.tsx","core/helpers/store.tsx","pages/Gallery/components/Filter/Filter.tsx","pages/Gallery/components/GalleryToolBar/GalleryToolBar.tsx","pages/Gallery/Gallery.tsx","App.tsx","index.tsx"],"names":["routeConstants","connect","user","authReducer","Component","component","rest","render","props","to","SIGNIN","Form","onSubmit","onChange","children","className","type","name","placeholder","required","React","memo","FormButton","value","ModalButton","onClick","Modal","text","authConstants","history","createHashHistory","app","firebase","initializeApp","apiKey","process","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","database","auth","firebaseAuthService","signin","email","password","signInWithEmailAndPassword","register","createUserWithEmailAndPassword","signout","signOut","firebaseDbService","sendImg","onImages","onUsers","Promise","resolve","ref","child","on","snapshot","data","val","setUserEmail","uid","set","image","a","push","toastId","authActions","dispatch","request","then","success","setCurrentUserId","GALLERY","catch","message","error","toast","isActive","position","POSITION","TOP_CENTER","newUser","SIGNOUT","REQUEST","SUCCESS","payload","ERROR","SET_CURRENT_USER_ID","configure","Loader","Signin","loading","useState","setEmail","setPassword","useDispatch","handleChange","useCallback","target","handleSubmit","event","preventDefault","handleClick","REGISTER","Register","confirmation","setConfirmation","useRef","current","PaintButton","tool","isShowedSizeBar","isShowedShapeBar","useMemo","result","drawReducer","SignoutButton","handleSignoutClick","src","logout_img","alt","drawConstants","drawActions","noTool","NO_TOOL","paintbrush","PAINTBRUSH","startDraw","START_DRAW","stopDraw","STOP_DRAW","setColor","color","SET_COLOR","showSizeBar","SHOW_SIZE_BAR","hideSizeBar","HIDE_SIZE_BAR","setSize","size","SET_SIZE","showShapeBar","SHOW_SHAPE_BAR","hideShapeBar","HIDE_SHAPE_BAR","line","LINE","rectangle","RECTANGLE","circle","CIRCLE","star","STAR","hexagon","HEXAGON","setImg","img","SET_IMG","deleteImg","DELETE_IMG","setContext","context","SET_CONTEXT","clear","CLEAR","NavBar","picture","ColorBar","PaintBrush","pencil","Circle","Line","Hexagon","Rectangle","Star","points","min","max","DrawBar","SaveButton","isClean","currentUserId","currentImg","info","disk","drawService","redraw","addPoint","clearFromPaintbrush","splice","length","clearCanvas","drawPoint","mouseX","mouseY","drawImage","drawLine","startX","startY","lineWidth","strokeStyle","beginPath","moveTo","lineTo","closePath","stroke","drawCircle","width","height","kappa","ox","oy","xe","ye","xm","ym","fillStyle","bezierCurveTo","fill","drawRectangle","fillRect","createImg","canvas","toDataURL","Image","drawStar","outerRadius","step","Math","PI","rot","x","y","Array","forEach","cos","sin","drawHexagon","sideLength","hexagonAngle","hexHeight","hexRadius","hexRectangleWidth","hexRectangleHeight","createContext","getContext","globalCompositeOperation","lineJoin","point","index","arr","drag","pointX","pointY","clearRect","PaintToolBar","trash","isDraw","canvasRef","mainviewRef","handleMouseUp","handleResize","clientWidth","clientHeight","useEffect","window","innerHeight","innerWidth","addEventListener","removeEventListener","document","id","onMouseDown","clientX","clientY","offsetLeft","offsetTop","onMouseMove","onMouseUp","onMouseLeave","Paint","showConstants","showActions","getImages","SUCCESS_DOWNLOAD","successDownload","filterImages","key","FILTER_IMAGES","setImages","images","SET_IMAGES","getUsers","SUCCESS_DOWNLOAD_USERS","successDownloadUsers","GalleryList","filtredKey","imgList","filteredImages","Object","values","filter","item","map","i","undefined","createImgList","last","querySelector","scrollIntoView","block","inline","showReducer","initState","users","filtredImages","rootReducer","combineReducers","state","action","store","createStore","applyMiddleware","thunk","Filter","options","emails","hasOwnProperty","usersWithImg","entries","includes","createOptions","GalleryToolBar","PAINT","Gallery","App","exact","path","ReactDOM"],"mappings":"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","file":"static/js/main.577b1b52.chunk.js","sourcesContent":["export enum routeConstants {\n  SIGNIN = '/signin',\n  REGISTER = '/register',\n  GALLERY = '/',\n  PAINT = '/paint',\n}\n","import { Route } from 'react-router-dom';\nimport { Redirect, RouteProps } from 'react-router';\nimport { connect } from 'react-redux';\nimport { routeConstants } from '../../constants/route.constants';\nimport { RootSate } from '../../reducers/root.reducer';\nimport { User } from '../../actions/auth.actions';\nimport { MemoExoticComponent } from 'react';\n\nexport interface PrivateRouteProps {\n  component: MemoExoticComponent<() => JSX.Element>;\n  user: User;\n}\n\nfunction PrivateRoute({ user, component: Component, ...rest }: PrivateRouteProps & RouteProps): JSX.Element {\n  return (\n    <Route\n      {...rest}\n      render={(props) => (user ? <Component {...props} /> : <Redirect to={routeConstants.SIGNIN} />)}\n    ></Route>\n  );\n}\n\nfunction mapStateToProps({ authReducer: { user } }: RootSate) {\n  return { user };\n}\n\nexport default connect(mapStateToProps)(PrivateRoute);\n","import React from 'react';\nimport './Form.scss';\n\ninterface FormProps {\n  onSubmit?: React.FormEventHandler<HTMLFormElement>;\n  onChange?: React.ChangeEventHandler<HTMLInputElement>;\n  children?: JSX.Element | Array<JSX.Element>;\n}\n\nfunction Form({ onSubmit, onChange, children }: FormProps) {\n  return (\n    <form className=\"form\" onSubmit={onSubmit}>\n      <input className=\"form__email\" type=\"email\" name=\"email\" placeholder=\"email\" onChange={onChange} required />\n      <input\n        className=\"form__password\"\n        type=\"password\"\n        name=\"password\"\n        placeholder=\"password\"\n        onChange={onChange}\n        required\n      />\n      {children}\n    </form>\n  );\n}\n\nexport default React.memo(Form);\n","import React from 'react';\nimport './FormButton.scss';\n\ninterface FormButtonProps {\n  value: string;\n}\n\nfunction FormButton({ value }: FormButtonProps): JSX.Element {\n  return <input className=\"form-btn\" type=\"submit\" value={value} />;\n}\n\nexport default React.memo(FormButton);\n","import React from 'react';\nimport './ModalButton.scss';\n\ninterface ModalButtonProps {\n  value?: string;\n  onClick?: () => void;\n}\n\nfunction ModalButton({ value, onClick }: ModalButtonProps) {\n  return (\n    <button className=\"modal-btn\" onClick={onClick}>\n      {value}\n    </button>\n  );\n}\n\nexport default React.memo(ModalButton);\n","import React from 'react';\nimport ModalButton from '../ModalButton/ModalButton';\nimport './Modal.scss';\n\ninterface ModalProps {\n  children?: JSX.Element;\n  text?: string;\n  value?: string;\n  onSubmit?: () => void;\n  onClick?: () => void;\n}\n\nfunction Modal({ children, text, value, onClick }: ModalProps) {\n  return (\n    <div className=\"modal\">\n      {children}\n      <div className=\"modal__footer\">\n        <span className=\"modal__text\">{text}</span>\n        <ModalButton value={value} onClick={onClick} />\n      </div>\n    </div>\n  );\n}\n\nexport default React.memo(Modal);\n","export enum authConstants {\n  SIGNOUT = 'SIGNOUT',\n  REQUEST = 'REQUEST',\n  SUCCESS = 'SUCCESS',\n  ERROR = 'ERROR',\n  SET_CURRENT_USER_ID = 'SET_CURRENT_USER_ID',\n}\n","import { createHashHistory } from 'history';\n\nexport const history = createHashHistory();\n","import firebase from 'firebase/app';\nimport 'firebase/auth';\nimport 'firebase/database';\n\nexport const app = firebase.initializeApp({\n  apiKey: process.env.REACT_APP_FIREBASE_API_KEY,\n  authDomain: process.env.REACT_APP_FIREBASE_AUTH_DOMAIN,\n  databaseURL: process.env.REACT_APP_FIREBASE_DATABASE_URL,\n  projectId: process.env.REACT_APP_FIREBASE_PROJECT_ID,\n  storageBucket: process.env.REACT_APP_FIREBASE_STORAGE_BUCKET,\n  messagingSenderId: process.env.REACT_APP_FIREBASE_MESSAGING_SENDER_ID,\n  appId: process.env.REACT_APP_FIREBASE_APP_ID,\n});\n\nexport const database = app.database();\nexport const auth = app.auth();\n","import { auth } from '../../firebase';\nimport firebase from 'firebase/app';\n\nexport const firebaseAuthService = {\n  signin,\n  register,\n  signout,\n};\n\nexport type UserCredential = firebase.auth.UserCredential;\n\nfunction signin(email: string, password: string): Promise<UserCredential> {\n  return auth.signInWithEmailAndPassword(email, password);\n}\n\nfunction register(email: string, password: string): Promise<UserCredential> {\n  return auth.createUserWithEmailAndPassword(email, password);\n}\n\nfunction signout(): Promise<void> {\n  return auth.signOut();\n}\n","import { database } from '../../firebase';\nimport { User } from '../actions/auth.actions';\n\nexport const firebaseDbService = {\n  sendImg,\n  onImages,\n  onUsers,\n  setUserEmail,\n};\n\nexport interface Image {\n  uid: string;\n  image: string;\n}\n\nasync function sendImg(image: string, uid: string): Promise<void> {\n  database.ref().child('images').push({ image, uid });\n}\n\nasync function onImages(): Promise<Record<string, Image>> {\n  return new Promise((resolve) => {\n    database\n      .ref()\n      .child('images')\n      .on('value', (snapshot) => {\n        const data = snapshot.val();\n        resolve(data || {});\n      });\n  });\n}\n\nfunction onUsers(): Promise<Record<string, User>> {\n  return new Promise((resolve) => {\n    database\n      .ref()\n      .child('users')\n      .on('value', (snapshot) => {\n        const data = snapshot.val();\n        resolve(data || {});\n      });\n  });\n}\n\nfunction setUserEmail(uid: string, user: User): void {\n  database.ref(`users/${uid}`).set({ email: user.email });\n}\n","import { authConstants } from '../constants/auth.constants';\nimport { routeConstants } from '../constants/route.constants';\nimport { history } from '../helpers/history';\nimport { firebaseAuthService, UserCredential } from '../services/firebase.auth.service';\nimport { Id, toast } from 'react-toastify';\nimport { ThunkAction } from 'redux-thunk';\nimport { AuthState } from '../reducers/auth.reducer';\nimport { Dispatch } from '../helpers/store';\nimport { firebaseDbService } from '../services/firebase.db.service';\n\nexport const authActions = {\n  signin,\n  register,\n  signout,\n};\n\nexport interface User {\n  email: string;\n}\n\ntoast.configure();\nlet toastId: Id;\n\ninterface RequestAction {\n  type: typeof authConstants.REQUEST;\n}\n\ninterface SuccessAction {\n  type: typeof authConstants.SUCCESS;\n  payload: User | null;\n}\n\ninterface ErrorAction {\n  type: typeof authConstants.ERROR;\n}\n\ninterface SignoutAction {\n  type: typeof authConstants.SIGNOUT;\n}\n\ninterface SetCurrentUserIdAction {\n  type: typeof authConstants.SET_CURRENT_USER_ID;\n  payload: string;\n}\n\nexport type AuthAction = RequestAction | SuccessAction | ErrorAction | SignoutAction | SetCurrentUserIdAction;\n\nexport type AuthThunkAction = ThunkAction<void, AuthState, unknown, AuthAction>;\n\nfunction request(): RequestAction {\n  return { type: authConstants.REQUEST };\n}\n\nfunction success(user: User | null): SuccessAction {\n  return {\n    type: authConstants.SUCCESS,\n    payload: user,\n  };\n}\n\nfunction error(): ErrorAction {\n  return { type: authConstants.ERROR };\n}\n\nfunction signin(email: string, password: string): AuthThunkAction {\n  return (dispatch: Dispatch) => {\n    dispatch(request());\n\n    firebaseAuthService\n      .signin(email, password)\n      .then(({ user }: UserCredential) => {\n        if (user) {\n          const { uid, email } = user;\n          dispatch(success({ email: email || 'unknowk' }));\n          dispatch(setCurrentUserId(uid));\n          history.push(routeConstants.GALLERY);\n        }\n      })\n      .catch(({ message }) => {\n        dispatch(error());\n\n        if (!toast.isActive(toastId)) {\n          toastId = toast.error(message, { position: toast.POSITION.TOP_CENTER });\n        }\n      });\n  };\n}\n\nfunction register(email: string, password: string): AuthThunkAction {\n  return (dispatch) => {\n    dispatch(request());\n\n    firebaseAuthService\n      .register(email, password)\n      .then(({ user }: UserCredential) => {\n        if (user) {\n          const { uid, email } = user;\n          const newUser = { email: email || 'unknowk' };\n          dispatch(success(newUser));\n          dispatch(setCurrentUserId(uid));\n          firebaseDbService.setUserEmail(uid, newUser);\n          history.push(routeConstants.GALLERY);\n        }\n      })\n      .catch(({ message }) => {\n        dispatch(error());\n\n        if (!toast.isActive(toastId)) {\n          toastId = toast.error(message, { position: toast.POSITION.TOP_CENTER });\n        }\n      });\n  };\n}\n\nfunction signout(): AuthThunkAction {\n  return (dispatch) => {\n    firebaseAuthService.signout().then(() => {\n      dispatch({ type: authConstants.SIGNOUT });\n    });\n  };\n}\n\nfunction setCurrentUserId(uid: string): SetCurrentUserIdAction {\n  return {\n    type: authConstants.SET_CURRENT_USER_ID,\n    payload: uid,\n  };\n}\n","import './Loader.scss';\n\nfunction Loader(): JSX.Element {\n  return <div className=\"loader\">Loading...</div>;\n}\n\nexport default Loader;\n","import './Signin.scss';\nimport Form from '../../core/components/Form/Form';\nimport FormButton from '../../core/components/FormButton/FormButton';\nimport Modal from '../../core/components/Modal/Modal';\nimport React, { ChangeEvent, useCallback, useState } from 'react';\nimport { connect, useDispatch } from 'react-redux';\nimport { authActions } from '../../core/actions/auth.actions';\nimport { ToastContainer, toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport Loader from '../../core/components/Loader/Loader';\nimport { history } from '../../core/helpers/history';\nimport { routeConstants } from '../../core/constants/route.constants';\nimport { RootSate } from '../../core/reducers/root.reducer';\n\nconst FORM_BTN_VALUE = 'sign in';\nconst MODAL_BTN_VALUE = 'register';\nconst MODAL_TEXT = 'Need an account?';\n\ntoast.configure();\n\ninterface SigninProps {\n  loading: boolean;\n}\n\nfunction Signin({ loading }: SigninProps): JSX.Element {\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const dispatch = useDispatch();\n\n  const handleChange = useCallback(({ target: { name, value } }: ChangeEvent<HTMLInputElement>) => {\n    if (name === 'email') {\n      setEmail(value);\n    } else if (name === 'password') {\n      setPassword(value);\n    }\n  }, []);\n\n  const handleSubmit = useCallback(\n    (event: React.FormEvent<HTMLFormElement>) => {\n      event.preventDefault();\n      dispatch(authActions.signin(email, password));\n    },\n    [email, password, dispatch],\n  );\n\n  const handleClick = useCallback(() => {\n    history.push(routeConstants.REGISTER);\n  }, []);\n\n  return (\n    <div className=\"signin\">\n      {loading && <Loader />}\n      <ToastContainer />\n      <Modal text={MODAL_TEXT} value={MODAL_BTN_VALUE} onClick={handleClick}>\n        <Form onChange={handleChange} onSubmit={handleSubmit}>\n          <FormButton value={FORM_BTN_VALUE} />\n        </Form>\n      </Modal>\n    </div>\n  );\n}\n\nfunction mapStateToProps({ authReducer: { loading } }: RootSate) {\n  return { loading };\n}\n\nexport default connect(mapStateToProps)(React.memo(Signin));\n","import React, { ChangeEvent, useCallback, useRef, useState } from 'react';\nimport { connect, useDispatch } from 'react-redux';\nimport { toast, ToastContainer } from 'react-toastify';\nimport { authActions } from '../../core/actions/auth.actions';\nimport Form from '../../core/components/Form/Form';\nimport FormButton from '../../core/components/FormButton/FormButton';\nimport Loader from '../../core/components/Loader/Loader';\nimport Modal from '../../core/components/Modal/Modal';\nimport { routeConstants } from '../../core/constants/route.constants';\nimport { history } from '../../core/helpers/history';\nimport { RootSate } from '../../core/reducers/root.reducer';\nimport './Register.scss';\n\nconst MODAL_TEXT = 'Already have an account?';\nconst MODAL_BTN_VALUE = 'sign in';\nconst FORM_BTN_VALUE = 'register';\nconst ERROR_TEXT = 'Passwords do not match';\n\ntoast.configure();\n\ninterface RegisterProps {\n  loading: boolean;\n}\n\nfunction Register({ loading }: RegisterProps) {\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [confirmation, setConfirmation] = useState('');\n  const toastId = useRef('');\n  const dispatch = useDispatch();\n\n  const handleChange = useCallback(({ target: { name, value } }: ChangeEvent<HTMLInputElement>) => {\n    if (name === 'email') {\n      setEmail(value);\n    } else if (name === 'password') {\n      setPassword(value);\n    } else if (name === 'confirmation') {\n      setConfirmation(value);\n    }\n  }, []);\n\n  const handleSubmit = useCallback(\n    (event: React.FormEvent<HTMLFormElement>) => {\n      event.preventDefault();\n      if (password === confirmation) {\n        dispatch(authActions.register(email, password));\n      } else {\n        if (!toast.isActive(toastId.current)) {\n          toast.error(ERROR_TEXT, { position: toast.POSITION.TOP_CENTER });\n        }\n      }\n    },\n    [email, password, confirmation, dispatch],\n  );\n\n  const handleClick = () => {\n    history.push(routeConstants.SIGNIN);\n  };\n\n  return (\n    <div className=\"register\">\n      {loading && <Loader />}\n      <ToastContainer />\n      <Modal text={MODAL_TEXT} value={MODAL_BTN_VALUE} onClick={handleClick}>\n        <Form onChange={handleChange} onSubmit={handleSubmit}>\n          <input\n            className=\"confirmation\"\n            type=\"password\"\n            name=\"confirmation\"\n            placeholder=\"confirm password\"\n            onChange={handleChange}\n          />\n          <FormButton value={FORM_BTN_VALUE} />\n        </Form>\n      </Modal>\n    </div>\n  );\n}\n\nconst mapStateToProps = ({ authReducer: { loading } }: RootSate) => {\n  return { loading };\n};\n\nexport default connect(mapStateToProps)(React.memo(Register));\n","import './PaintButton.scss';\nimport { connect } from 'react-redux';\nimport React, { MouseEventHandler, useMemo } from 'react';\nimport { RootSate } from '../../reducers/root.reducer';\n\ninterface PaintButtonProps {\n  tool: string;\n  isShowedSizeBar: boolean;\n  isShowedShapeBar: boolean;\n  name?: string;\n  children?: JSX.Element | string;\n  onClick?: MouseEventHandler<HTMLButtonElement>;\n}\n\nfunction PaintButton({ tool, isShowedSizeBar, name, children, isShowedShapeBar, onClick }: PaintButtonProps) {\n  const className = useMemo(() => {\n    let result = 'paint-btn';\n\n    if (name === tool || (name === 'size-bar' && isShowedSizeBar) || (name === 'shape-bar' && isShowedShapeBar)) {\n      result += ' active';\n    }\n\n    return result;\n  }, [name, tool, isShowedShapeBar, isShowedSizeBar]);\n\n  return (\n    <button type=\"button\" className={className} name={name} onClick={onClick}>\n      {children}\n    </button>\n  );\n}\n\nfunction mapStateToProps({ drawReducer: { tool, isShowedSizeBar, isShowedShapeBar } }: RootSate) {\n  return { tool, isShowedSizeBar, isShowedShapeBar };\n}\n\nexport default connect(mapStateToProps)(React.memo(PaintButton));\n","export default __webpack_public_path__ + \"static/media/picture.082f3262.svg\";","export default __webpack_public_path__ + \"static/media/logout.58dee8cf.svg\";","import React, { useCallback } from 'react';\nimport PaintButton from '../PaintButton/PaintButton';\nimport logout_img from '../../../assets/img/logout.svg';\nimport { useDispatch } from 'react-redux';\nimport { authActions } from '../../actions/auth.actions';\n\nfunction SignoutButton() {\n  const dispatch = useDispatch();\n\n  const handleSignoutClick = useCallback(() => {\n    dispatch(authActions.signout());\n  }, [dispatch]);\n\n  return (\n    <PaintButton onClick={handleSignoutClick}>\n      <img src={logout_img} alt=\"\" />\n    </PaintButton>\n  );\n}\n\nexport default React.memo(SignoutButton);\n","export enum drawConstants {\n  NO_TOOL = 'NO_TOOL',\n  PAINTBRUSH = 'PAINTBRUSH',\n  LINE = 'LINE',\n  RECTANGLE = 'RECTANGLE',\n  CIRCLE = 'CIRCLE',\n  STAR = 'STAR',\n  HEXAGON = 'HEXAGON',\n  START_DRAW = 'STARTDRAW',\n  STOP_DRAW = 'STOP_DRAW',\n  SET_COLOR = 'SET_COLOR',\n  SHOW_SIZE_BAR = 'SHOW_SIZE_BAR',\n  HIDE_SIZE_BAR = 'HIDE_SIZE_BAR',\n  SET_SIZE = 'SET_SIZE',\n  SHOW_SHAPE_BAR = 'SHOW_SHAPE_BAR',\n  HIDE_SHAPE_BAR = 'HIDE_SHAPE_BAR',\n  SET_IMG = 'SET_IMG',\n  DELETE_IMG = 'DELETE_IMG',\n  SET_CONTEXT = 'SET_CONTEXT',\n  CLEAR = 'CLEAR',\n}\n","import { drawConstants } from '../constants/draw.constants';\n\nexport const drawActions = {\n  noTool,\n  paintbrush,\n  startDraw,\n  stopDraw,\n  setColor,\n  showSizeBar,\n  hideSizeBar,\n  setSize,\n  showShapeBar,\n  hideShapeBar,\n  line,\n  rectangle,\n  circle,\n  star,\n  hexagon,\n  setImg,\n  deleteImg,\n  setContext,\n  clear,\n};\n\ninterface NoToolAction {\n  type: typeof drawConstants.NO_TOOL;\n}\n\ninterface PaintbrushAction {\n  type: typeof drawConstants.PAINTBRUSH;\n}\n\ninterface StartDrawAction {\n  type: typeof drawConstants.START_DRAW;\n}\n\ninterface StopDrawAction {\n  type: typeof drawConstants.STOP_DRAW;\n}\n\ninterface SetColorAction {\n  type: typeof drawConstants.SET_COLOR;\n  payload: string;\n}\n\ninterface ShowSizeBarAction {\n  type: typeof drawConstants.SHOW_SIZE_BAR;\n}\n\ninterface HideSizeBarAction {\n  type: typeof drawConstants.HIDE_SIZE_BAR;\n}\n\ninterface SetSizeAction {\n  type: typeof drawConstants.SET_SIZE;\n  payload: string;\n}\n\ninterface ShowShapeBarAction {\n  type: typeof drawConstants.SHOW_SHAPE_BAR;\n}\n\ninterface HideShapeBarAction {\n  type: typeof drawConstants.HIDE_SHAPE_BAR;\n}\n\ninterface LineAction {\n  type: typeof drawConstants.LINE;\n}\n\ninterface RectangleAction {\n  type: typeof drawConstants.RECTANGLE;\n}\n\ninterface CircleAction {\n  type: typeof drawConstants.CIRCLE;\n}\n\ninterface SetImgAction {\n  type: typeof drawConstants.SET_IMG;\n  payload: HTMLImageElement;\n}\n\ninterface DeleteImgAction {\n  type: typeof drawConstants.DELETE_IMG;\n}\n\ninterface SetContextAction {\n  type: typeof drawConstants.SET_CONTEXT;\n  payload: CanvasRenderingContext2D | null;\n}\n\ninterface StarAction {\n  type: typeof drawConstants.STAR;\n}\n\ninterface HexagonAction {\n  type: typeof drawConstants.HEXAGON;\n}\n\ninterface ClearAction {\n  type: typeof drawConstants.CLEAR;\n}\n\nfunction noTool(): NoToolAction {\n  return { type: drawConstants.NO_TOOL };\n}\n\nfunction paintbrush(): PaintbrushAction {\n  return { type: drawConstants.PAINTBRUSH };\n}\n\nfunction startDraw(): StartDrawAction {\n  return { type: drawConstants.START_DRAW };\n}\n\nfunction stopDraw(): StopDrawAction {\n  return { type: drawConstants.STOP_DRAW };\n}\n\nfunction setColor(color: string): SetColorAction {\n  return {\n    type: drawConstants.SET_COLOR,\n    payload: color,\n  };\n}\n\nfunction showSizeBar(): ShowSizeBarAction {\n  return { type: drawConstants.SHOW_SIZE_BAR };\n}\n\nfunction hideSizeBar(): HideSizeBarAction {\n  return { type: drawConstants.HIDE_SIZE_BAR };\n}\n\nfunction setSize(size: string): SetSizeAction {\n  return {\n    type: drawConstants.SET_SIZE,\n    payload: size,\n  };\n}\n\nfunction showShapeBar(): ShowShapeBarAction {\n  return { type: drawConstants.SHOW_SHAPE_BAR };\n}\n\nfunction hideShapeBar(): HideShapeBarAction {\n  return { type: drawConstants.HIDE_SHAPE_BAR };\n}\n\nfunction line(): LineAction {\n  return { type: drawConstants.LINE };\n}\n\nfunction rectangle(): RectangleAction {\n  return { type: drawConstants.RECTANGLE };\n}\n\nfunction circle(): CircleAction {\n  return { type: drawConstants.CIRCLE };\n}\n\nfunction star(): StarAction {\n  return { type: drawConstants.STAR };\n}\n\nfunction hexagon(): HexagonAction {\n  return { type: drawConstants.HEXAGON };\n}\n\nfunction setImg(img: HTMLImageElement): SetImgAction {\n  return {\n    type: drawConstants.SET_IMG,\n    payload: img,\n  };\n}\n\nfunction deleteImg(): DeleteImgAction {\n  return { type: drawConstants.DELETE_IMG };\n}\n\nfunction setContext(context: CanvasRenderingContext2D | null): SetContextAction {\n  return {\n    type: drawConstants.SET_CONTEXT,\n    payload: context,\n  };\n}\n\nfunction clear(): ClearAction {\n  return { type: drawConstants.CLEAR };\n}\n\nexport type DrawActions =\n  | PaintbrushAction\n  | StartDrawAction\n  | StopDrawAction\n  | NoToolAction\n  | SetColorAction\n  | ShowSizeBarAction\n  | HideSizeBarAction\n  | SetSizeAction\n  | ShowShapeBarAction\n  | HideShapeBarAction\n  | LineAction\n  | RectangleAction\n  | CircleAction\n  | StarAction\n  | HexagonAction\n  | SetImgAction\n  | DeleteImgAction\n  | SetContextAction\n  | ClearAction;\n","import { connect } from 'react-redux';\nimport PaintButton from '../../../../core/components/PaintButton/PaintButton';\nimport './NavBar.scss';\nimport picture from '../../../../assets/img/picture.svg';\nimport { history } from '../../../../core/helpers/history';\nimport { routeConstants } from '../../../../core/constants/route.constants';\nimport SignoutButton from '../../../../core/components/SignoutButton/SignoutButton';\nimport { RootSate } from '../../../../core/reducers/root.reducer';\nimport { Dispatch } from '../../../../core/helpers/store';\nimport { drawActions } from '../../../../core/actions/draw.actions';\nimport React, { useCallback } from 'react';\n\ninterface NavBarProps {\n  dispatch: Dispatch;\n  img: HTMLImageElement;\n}\n\nfunction NavBar({ dispatch, img }: NavBarProps): JSX.Element {\n  const handleClick = useCallback(async () => {\n    dispatch(drawActions.deleteImg());\n    dispatch(drawActions.clear());\n    history.push(routeConstants.GALLERY);\n  }, [dispatch]);\n\n  return (\n    <ul className=\"navbar\">\n      <li className=\"navbar__item\">\n        <SignoutButton />\n      </li>\n      <li className=\"navbar__item\">\n        <PaintButton onClick={handleClick}>\n          <img src={picture} alt=\"\" />\n        </PaintButton>\n      </li>\n    </ul>\n  );\n}\n\nfunction mapStateToProps({ drawReducer: { img, dispatch } }: RootSate) {\n  return { dispatch, img };\n}\n\nexport default connect(mapStateToProps)(React.memo(NavBar));\n","import React, { ChangeEvent } from 'react';\nimport { connect } from 'react-redux';\nimport { drawActions } from '../../../../core/actions/draw.actions';\nimport { Dispatch } from '../../../../core/helpers/store';\nimport { RootSate } from '../../../../core/reducers/root.reducer';\nimport './ColorBar.scss';\n\ninterface ColorBarProps {\n  dispatch: Dispatch;\n  color: string;\n}\n\nfunction ColorBar({ dispatch, color }: ColorBarProps) {\n  const handleChange = ({ target: { value } }: ChangeEvent<HTMLInputElement>) => {\n    dispatch(drawActions.setColor(value));\n  };\n\n  return <input className=\"color-input\" value={color} type=\"color\" name=\"color\" onChange={handleChange} />;\n}\n\nfunction mapStateToProps({ drawReducer: { dispatch, color } }: RootSate) {\n  return { dispatch, color };\n}\n\nexport default connect(mapStateToProps)(React.memo(ColorBar));\n","export default __webpack_public_path__ + \"static/media/pencil.d161d2e9.svg\";","import { connect } from 'react-redux';\nimport PaintButton from '../../../../core/components/PaintButton/PaintButton';\nimport { drawConstants } from '../../../../core/constants/draw.constants';\nimport { Dispatch } from '../../../../core/helpers/store';\nimport { RootSate } from '../../../../core/reducers/root.reducer';\nimport pencil from '../../../../assets/img/pencil.svg';\nimport { drawActions } from '../../../../core/actions/draw.actions';\nimport React, { useCallback } from 'react';\n\ninterface PaintBrushProps {\n  dispatch: Dispatch;\n  tool: string | null;\n}\n\nfunction PaintBrush({ dispatch, tool }: PaintBrushProps) {\n  const handleClick = useCallback(() => {\n    if (tool === drawConstants.PAINTBRUSH) {\n      dispatch(drawActions.noTool());\n    } else {\n      dispatch(drawActions.paintbrush());\n    }\n  }, [dispatch, tool]);\n\n  return (\n    <PaintButton name={drawConstants.PAINTBRUSH} onClick={handleClick}>\n      <img src={pencil} alt=\"\" />\n    </PaintButton>\n  );\n}\n\nfunction mapStateToProps({ drawReducer: { dispatch, tool } }: RootSate) {\n  return { dispatch, tool };\n}\n\nexport default connect(mapStateToProps)(React.memo(PaintBrush));\n","export default __webpack_public_path__ + \"static/media/circle.dddf140d.svg\";","import { connect } from 'react-redux';\nimport PaintButton from '../../../../core/components/PaintButton/PaintButton';\nimport { Dispatch } from '../../../../core/helpers/store';\nimport { RootSate } from '../../../../core/reducers/root.reducer';\nimport circle from '../../../../assets/img/circle.svg';\nimport { drawConstants } from '../../../../core/constants/draw.constants';\nimport { drawActions } from '../../../../core/actions/draw.actions';\nimport React, { useCallback } from 'react';\n\ninterface CircleProps {\n  dispatch: Dispatch;\n  tool: string | null;\n}\n\nfunction Circle({ dispatch, tool }: CircleProps): JSX.Element {\n  const handleClick = useCallback(() => {\n    if (tool === drawConstants.CIRCLE) {\n      dispatch(drawActions.noTool());\n    } else {\n      dispatch(drawActions.circle());\n    }\n  }, [tool, dispatch]);\n\n  return (\n    <PaintButton name={drawConstants.CIRCLE} onClick={handleClick}>\n      <img src={circle} alt=\"circle\" />\n    </PaintButton>\n  );\n}\n\nfunction mapStateToProps({ drawReducer: { dispatch, tool } }: RootSate) {\n  return { dispatch, tool };\n}\n\nexport default connect(mapStateToProps)(React.memo(Circle));\n","export default __webpack_public_path__ + \"static/media/line.71e38afd.svg\";","import { connect } from 'react-redux';\nimport PaintButton from '../../../../core/components/PaintButton/PaintButton';\nimport line from '../../../../assets/img/line.svg';\nimport { drawConstants } from '../../../../core/constants/draw.constants';\nimport { Dispatch } from '../../../../core/helpers/store';\nimport { RootSate } from '../../../../core/reducers/root.reducer';\nimport { drawActions } from '../../../../core/actions/draw.actions';\nimport React, { useCallback } from 'react';\n\ninterface LineProps {\n  dispatch: Dispatch;\n  tool: string | null;\n}\n\nfunction Line({ dispatch, tool }: LineProps): JSX.Element {\n  const handleClick = useCallback(() => {\n    if (tool === drawConstants.LINE) {\n      dispatch(drawActions.noTool());\n    } else {\n      dispatch(drawActions.line());\n    }\n  }, [tool, dispatch]);\n\n  return (\n    <PaintButton name={drawConstants.LINE} onClick={handleClick}>\n      <img src={line} alt=\"line\" />\n    </PaintButton>\n  );\n}\n\nfunction mapStateToProps({ drawReducer: { dispatch, tool } }: RootSate) {\n  return { dispatch, tool };\n}\n\nexport default connect(mapStateToProps)(React.memo(Line));\n","export default __webpack_public_path__ + \"static/media/hexagon.5fee026a.svg\";","import { connect } from 'react-redux';\nimport { drawActions } from '../../../../core/actions/draw.actions';\nimport PaintButton from '../../../../core/components/PaintButton/PaintButton';\nimport { drawConstants } from '../../../../core/constants/draw.constants';\nimport { Dispatch } from '../../../../core/helpers/store';\nimport { RootSate } from '../../../../core/reducers/root.reducer';\nimport hexagon from '../../../../assets/img/hexagon.svg';\nimport React, { useCallback } from 'react';\n\ninterface HexagonProps {\n  dispatch: Dispatch;\n  tool: string | null;\n}\n\nfunction Hexagon({ dispatch, tool }: HexagonProps): JSX.Element {\n  const handleClick = useCallback(() => {\n    if (tool === drawConstants.HEXAGON) {\n      dispatch(drawActions.noTool());\n    } else {\n      dispatch(drawActions.hexagon());\n    }\n  }, [tool, dispatch]);\n\n  return (\n    <PaintButton name={drawConstants.HEXAGON} onClick={handleClick}>\n      <img src={hexagon} alt=\"hexagon\" />\n    </PaintButton>\n  );\n}\n\nfunction mapStateToProps({ drawReducer: { dispatch, tool } }: RootSate) {\n  return { dispatch, tool };\n}\n\nexport default connect(mapStateToProps)(React.memo(Hexagon));\n","export default __webpack_public_path__ + \"static/media/rectangle.19aa566b.svg\";","import { connect } from 'react-redux';\nimport PaintButton from '../../../../core/components/PaintButton/PaintButton';\nimport { drawConstants } from '../../../../core/constants/draw.constants';\nimport { Dispatch } from '../../../../core/helpers/store';\nimport { RootSate } from '../../../../core/reducers/root.reducer';\nimport rectangle from '../../../../assets/img/rectangle.svg';\nimport { drawActions } from '../../../../core/actions/draw.actions';\nimport React, { useCallback } from 'react';\n\ninterface RectangleProps {\n  dispatch: Dispatch;\n  tool: string | null;\n}\n\nfunction Rectangle({ dispatch, tool }: RectangleProps): JSX.Element {\n  const handleClick = useCallback(() => {\n    if (tool === drawConstants.RECTANGLE) {\n      dispatch(drawActions.noTool());\n    } else {\n      dispatch(drawActions.rectangle());\n    }\n  }, [tool, dispatch]);\n\n  return (\n    <PaintButton name={drawConstants.RECTANGLE} onClick={handleClick}>\n      <img src={rectangle} alt=\"rectangle\" />\n    </PaintButton>\n  );\n}\n\nfunction mapStateToProps({ drawReducer: { dispatch, tool } }: RootSate) {\n  return { dispatch, tool };\n}\n\nexport default connect(mapStateToProps)(React.memo(Rectangle));\n","export default __webpack_public_path__ + \"static/media/star.103f4316.svg\";","import { drawActions } from '../../../../core/actions/draw.actions';\nimport PaintButton from '../../../../core/components/PaintButton/PaintButton';\nimport { drawConstants } from '../../../../core/constants/draw.constants';\nimport { Dispatch } from '../../../../core/helpers/store';\nimport star from '../../../../assets/img/star.svg';\nimport { RootSate } from '../../../../core/reducers/root.reducer';\nimport { connect } from 'react-redux';\nimport React, { useCallback } from 'react';\n\ninterface StarProps {\n  dispatch: Dispatch;\n  tool: string | null;\n}\n\nfunction Star({ dispatch, tool }: StarProps): JSX.Element {\n  const handleClick = useCallback(() => {\n    if (tool === drawConstants.STAR) {\n      dispatch(drawActions.noTool());\n    } else {\n      dispatch(drawActions.star());\n    }\n  }, [tool, dispatch]);\n\n  return (\n    <PaintButton name={drawConstants.STAR} onClick={handleClick}>\n      <img src={star} alt=\"star\" />\n    </PaintButton>\n  );\n}\n\nfunction mapStateToProps({ drawReducer: { dispatch, tool } }: RootSate) {\n  return { dispatch, tool };\n}\n\nexport default connect(mapStateToProps)(React.memo(Star));\n","export default __webpack_public_path__ + \"static/media/points.ce4d7f60.svg\";","import { connect } from 'react-redux';\nimport { drawActions } from '../../../../core/actions/draw.actions';\nimport PaintButton from '../../../../core/components/PaintButton/PaintButton';\nimport { Dispatch } from '../../../../core/helpers/store';\nimport { RootSate } from '../../../../core/reducers/root.reducer';\nimport Circle from '../Circle/Circle';\nimport Line from '../Line/Line';\nimport Polygon from '../Hexagon/Hexagon';\nimport Rectangle from '../Rectangle/Rectangle';\nimport Star from '../Star/Star';\nimport './ShapeBar.scss';\nimport points from '../../../../assets/img/points.svg';\nimport { useCallback } from 'react';\n\ninterface ShapeBarProps {\n  dispatch: Dispatch;\n  isShowedShapeBar: boolean;\n}\n\nfunction ShapeBar({ dispatch, isShowedShapeBar }: ShapeBarProps): JSX.Element {\n  const handleClick = useCallback(() => {\n    if (isShowedShapeBar) {\n      dispatch(drawActions.hideShapeBar());\n    } else {\n      dispatch(drawActions.showShapeBar());\n    }\n  }, [isShowedShapeBar, dispatch]);\n\n  return (\n    <div className=\"shape-bar\">\n      <PaintButton name=\"shape-bar\" onClick={handleClick}>\n        <img src={points} alt=\"\" />\n      </PaintButton>\n      {isShowedShapeBar && (\n        <ul className=\"shape-bar__setting\">\n          <li className=\"shape-bar__item\">\n            <Line />\n          </li>\n          <li className=\"shape-bar__item\">\n            <Circle />\n          </li>\n          <li className=\"shape-bar__item\">\n            <Rectangle />\n          </li>\n          <li className=\"shape-bar__item\">\n            <Star />\n          </li>\n          <li className=\"shape-bar__item\">\n            <Polygon />\n          </li>\n        </ul>\n      )}\n    </div>\n  );\n}\n\nfunction mapStateToProps({ drawReducer: { dispatch, isShowedShapeBar } }: RootSate) {\n  return { dispatch, isShowedShapeBar };\n}\n\nexport default connect(mapStateToProps)(ShapeBar);\n","import { ChangeEvent, useCallback } from 'react';\nimport { connect } from 'react-redux';\nimport { drawActions } from '../../../../core/actions/draw.actions';\nimport PaintButton from '../../../../core/components/PaintButton/PaintButton';\nimport { Dispatch } from '../../../../core/helpers/store';\nimport { RootSate } from '../../../../core/reducers/root.reducer';\nimport './SizeBar.scss';\n\ninterface SizeBarProps {\n  isShowedSizeBar: boolean;\n  size: string;\n  dispatch: Dispatch;\n}\n\nfunction SizeBar({ isShowedSizeBar, size, dispatch }: SizeBarProps): JSX.Element {\n  const handleClick = useCallback(() => {\n    if (isShowedSizeBar) {\n      dispatch(drawActions.hideSizeBar());\n    } else {\n      dispatch(drawActions.showSizeBar());\n    }\n  }, [isShowedSizeBar, dispatch]);\n\n  const handleChange = ({ target: { value } }: ChangeEvent<HTMLInputElement>) => {\n    dispatch(drawActions.setSize(value));\n  };\n\n  return (\n    <div className=\"size-bar\">\n      <PaintButton name=\"size-bar\" onClick={handleClick}>\n        size\n      </PaintButton>\n      {isShowedSizeBar && (\n        <div className=\"size-bar__setting\">\n          <input type=\"range\" name=\"range\" min=\"1\" max=\"50\" value={size} onChange={handleChange} />\n          <span>{size}</span>\n        </div>\n      )}\n    </div>\n  );\n}\n\nfunction mapStateToProps({ drawReducer: { isShowedSizeBar, size, dispatch } }: RootSate) {\n  return { isShowedSizeBar, size, dispatch };\n}\n\nexport default connect(mapStateToProps)(SizeBar);\n","import React from 'react';\nimport ColorBar from '../ColorBar/ColorBar';\nimport PaintBrush from '../PaintBrush/PaintBrush';\nimport ShapeBar from '../ShapeBar/ShapeBar';\nimport SizeBar from '../SizeBar/SizeBar';\nimport './DrawBar.scss';\n\nfunction DrawBar(): JSX.Element {\n  return (\n    <ul className=\"drawbar\">\n      <li className=\"drawbar__item\">\n        <PaintBrush />\n      </li>\n      <li className=\"drawbar__item\">\n        <ShapeBar />\n      </li>\n      <li className=\"drawbar__item\">\n        <SizeBar />\n      </li>\n      <li className=\"drawbar__item\">\n        <ColorBar />\n      </li>\n    </ul>\n  );\n}\n\nexport default React.memo(DrawBar);\n","import React, { useCallback, useRef } from 'react';\nimport { connect } from 'react-redux';\nimport PaintButton from '../../../../core/components/PaintButton/PaintButton';\nimport { RootSate } from '../../../../core/reducers/root.reducer';\nimport { firebaseDbService } from '../../../../core/services/firebase.db.service';\nimport disk from '../../../../assets/img/disk.svg';\nimport { Id, toast, ToastContainer } from 'react-toastify';\n\ninterface SaveButtonProps {\n  img: HTMLImageElement;\n  isClean: boolean;\n  currentUserId: string;\n}\n\ntoast.configure();\nlet toastId: Id;\n\nfunction SaveButton({ img, isClean, currentUserId }: SaveButtonProps) {\n  const currentImg = useRef<string>('');\n\n  const handleClick = useCallback(async () => {\n    if (isClean) {\n      if (!toast.isActive(toastId)) {\n        toastId = toast.error('Error: the template is clean', { position: toast.POSITION.TOP_CENTER });\n      }\n    } else if (currentImg.current === img.src) {\n      if (!toast.isActive(toastId)) {\n        toastId = toast.error('Error: this image is already saved', { position: toast.POSITION.TOP_CENTER });\n      }\n    } else {\n      try {\n        await firebaseDbService.sendImg(img.src, currentUserId);\n        toast.info('image saved', { position: toast.POSITION.TOP_CENTER });\n      } catch ({ message }) {\n        toast.error(message, { position: toast.POSITION.TOP_CENTER });\n      }\n    }\n\n    currentImg.current = img.src;\n  }, [isClean, img, currentUserId]);\n\n  return (\n    <div>\n      <ToastContainer />\n      <PaintButton onClick={handleClick}>\n        <img src={disk} alt=\"\" />\n      </PaintButton>\n    </div>\n  );\n}\n\nfunction mapStateToProps({ drawReducer: { img, isClean }, authReducer: { currentUserId } }: RootSate) {\n  return { img, isClean, currentUserId };\n}\n\nexport default connect(mapStateToProps)(React.memo(SaveButton));\n","export default __webpack_public_path__ + \"static/media/disk.4e36d248.svg\";","const SCALE_INIT = 0;\nconst points: Array<Point> = [];\n\ninterface Point {\n  pointX: number;\n  pointY: number;\n  drag: boolean;\n  color: string;\n  size: string;\n}\n\nexport const drawService = {\n  redraw,\n  addPoint,\n  clearFromPaintbrush,\n  clearCanvas,\n  drawPoint,\n  drawLine,\n  drawCircle,\n  drawRectangle,\n  drawImage,\n  createImg,\n  drawStar,\n  drawHexagon,\n  createContext,\n};\n\nfunction redraw(context: CanvasRenderingContext2D): void {\n  clearCanvas(context);\n  context.lineJoin = 'round';\n\n  points.forEach((point, index, arr) => {\n    context.beginPath();\n    if (point.drag && index) {\n      context.moveTo(arr[index - 1].pointX, arr[index - 1].pointY);\n    } else {\n      context.moveTo(point.pointX - 1, point.pointY);\n    }\n\n    context.lineTo(point.pointX, point.pointY);\n    context.closePath();\n    context.strokeStyle = point.color;\n    context.lineWidth = +point.size;\n    context.stroke();\n  });\n}\n\nfunction addPoint(pointX: number, pointY: number, drag: boolean, color: string, size: string): void {\n  points.push({\n    pointX,\n    pointY,\n    drag,\n    color,\n    size,\n  });\n}\n\nfunction clearFromPaintbrush(): void {\n  points.splice(0, points.length);\n}\n\nfunction clearCanvas(context: CanvasRenderingContext2D): void {\n  context.clearRect(SCALE_INIT, SCALE_INIT, context.canvas.width, context.canvas.height);\n}\n\nfunction drawPoint(\n  context: CanvasRenderingContext2D,\n  mouseX: number,\n  mouseY: number,\n  color: string,\n  size: string,\n  img: HTMLImageElement,\n): void {\n  addPoint(mouseX, mouseY, true, color, size);\n  redraw(context);\n  drawImage(context, img);\n}\n\nfunction drawLine(\n  context: CanvasRenderingContext2D,\n  size: string,\n  color: string,\n  startX: number,\n  startY: number,\n  mouseX: number,\n  mouseY: number,\n  img: HTMLImageElement,\n): void {\n  redraw(context);\n  context.lineWidth = +size;\n  context.strokeStyle = color;\n  context.beginPath();\n  context.moveTo(startX, startY);\n  context.lineTo(mouseX, mouseY);\n  context.closePath();\n  context.stroke();\n  drawImage(context, img);\n}\n\nfunction drawCircle(\n  context: CanvasRenderingContext2D,\n  startX: number,\n  startY: number,\n  width: number,\n  height: number,\n  color: string,\n  img: HTMLImageElement,\n): void {\n  const kappa = 0.5522848;\n  const ox = (width / 2) * kappa; // control point offset horizontal\n  const oy = (height / 2) * kappa; // control point offset vertical\n  const xe = startX + width; // x-end\n  const ye = startY + height; // y-end\n  const xm = startX + width / 2; // x-middle\n  const ym = startY + height / 2; // y-middle\n\n  redraw(context);\n  context.fillStyle = color;\n  context.beginPath();\n  context.moveTo(startX, ym);\n  context.bezierCurveTo(startX, ym - oy, xm - ox, startY, xm, startY);\n  context.bezierCurveTo(xm + ox, startY, xe, ym - oy, xe, ym);\n  context.bezierCurveTo(xe, ym + oy, xm + ox, ye, xm, ye);\n  context.bezierCurveTo(xm - ox, ye, startX, ym + oy, startX, ym);\n  context.closePath();\n  context.fill();\n  drawImage(context, img);\n}\n\nfunction drawRectangle(\n  context: CanvasRenderingContext2D,\n  startX: number,\n  startY: number,\n  width: number,\n  height: number,\n  color: string,\n  img: HTMLImageElement,\n): void {\n  redraw(context);\n  context.fillStyle = color;\n  context.beginPath();\n  context.fillRect(startX, startY, width, height);\n  context.closePath();\n  drawImage(context, img);\n}\n\nfunction drawStar(\n  context: CanvasRenderingContext2D,\n  startX: number,\n  startY: number,\n  outerRadius: number,\n  color: string,\n  img: HTMLImageElement,\n): void {\n  const spikes = 5;\n  const step = Math.PI / spikes;\n  let rot = (Math.PI / 2) * 3;\n  let x = startX;\n  let y = startY;\n\n  redraw(context);\n  context.fillStyle = color;\n  context.beginPath();\n  context.moveTo(startX, startY - outerRadius);\n\n  new Array(spikes).fill(null).forEach(() => {\n    x = startX + Math.cos(rot) * outerRadius;\n    y = startY + Math.sin(rot) * outerRadius;\n    context.lineTo(x, y);\n    rot += step;\n    x = startX + Math.cos(rot) * (outerRadius / 2);\n    y = startY + Math.sin(rot) * (outerRadius / 2);\n    context.lineTo(x, y);\n    rot += step;\n  });\n\n  context.lineTo(startX, startY - outerRadius);\n  context.closePath();\n  context.fill();\n  drawImage(context, img);\n}\n\nfunction drawHexagon(\n  context: CanvasRenderingContext2D,\n  startX: number,\n  startY: number,\n  sideLength: number,\n  color: string,\n  img: HTMLImageElement,\n): void {\n  const hexagonAngle = 0.523598776; //30 degrees in radians\n  const hexHeight = Math.sin(hexagonAngle) * sideLength;\n  const hexRadius = Math.cos(hexagonAngle) * sideLength;\n  const hexRectangleWidth = 2 * hexRadius;\n  const hexRectangleHeight = sideLength + 2 * hexHeight;\n\n  redraw(context);\n  context.fillStyle = color;\n  context.beginPath();\n  context.moveTo(startX + hexRadius, startY);\n  context.lineTo(startX + hexRectangleWidth, startY + hexHeight);\n  context.lineTo(startX + hexRectangleWidth, startY + hexHeight + sideLength);\n  context.lineTo(startX + hexRadius, startY + hexRectangleHeight);\n  context.lineTo(startX, startY + sideLength + hexHeight);\n  context.lineTo(startX, startY + hexHeight);\n  context.closePath();\n  context.fill();\n  drawImage(context, img);\n}\n\nfunction drawImage(context: CanvasRenderingContext2D, img: HTMLImageElement): void {\n  if (img) {\n    context.drawImage(img, SCALE_INIT, SCALE_INIT);\n  }\n}\n\nfunction createImg(canvas: HTMLCanvasElement): HTMLImageElement {\n  const image = canvas.toDataURL('image/png');\n  const img = new Image();\n\n  img.src = image;\n\n  return img;\n}\n\nfunction createContext(canvas: HTMLCanvasElement): CanvasRenderingContext2D | null {\n  const context = canvas.getContext('2d');\n\n  if (context) {\n    context.globalCompositeOperation = 'destination-over';\n  }\n\n  return context;\n}\n","export default __webpack_public_path__ + \"static/media/trash.2d44fa45.svg\";","import NavBar from '../NavBar/NavBar';\nimport DrawBar from '../DrawBar/DrawBar';\nimport SaveButton from '../SaveButton/SaveButton';\nimport PaintButton from '../../../../core/components/PaintButton/PaintButton';\nimport { connect } from 'react-redux';\nimport { RootSate } from '../../../../core/reducers/root.reducer';\nimport { drawService } from '../../../../core/services/draw.service';\nimport './PaintToolBar.scss';\nimport { drawActions } from '../../../../core/actions/draw.actions';\nimport { Dispatch } from '../../../../core/helpers/store';\nimport trash from '../../../../assets/img/trash.svg';\nimport React, { useCallback } from 'react';\n\ninterface PaintToolBarProps {\n  context: CanvasRenderingContext2D | null;\n  dispatch: Dispatch;\n}\n\nfunction PaintToolBar({ context, dispatch }: PaintToolBarProps) {\n  const handleClick = useCallback(() => {\n    dispatch(drawActions.deleteImg());\n\n    if (context) {\n      drawService.clearCanvas(context);\n      dispatch(drawActions.clear());\n    }\n  }, [dispatch, context]);\n\n  return (\n    <div className=\"paint-toolbar\">\n      <NavBar />\n      <DrawBar />\n      <div>\n        <div className=\"clear-btn\">\n          <PaintButton onClick={handleClick}>\n            <img src={trash} alt=\"\" />\n          </PaintButton>\n        </div>\n        <SaveButton />\n      </div>\n    </div>\n  );\n}\n\nfunction mapStateToProps({ drawReducer: { context, dispatch } }: RootSate) {\n  return { context, dispatch };\n}\n\nexport default connect(mapStateToProps)(React.memo(PaintToolBar));\n","import { MouseEvent, useCallback, useEffect, useRef } from 'react';\nimport { connect } from 'react-redux';\nimport { drawActions } from '../../../../core/actions/draw.actions';\nimport { drawConstants } from '../../../../core/constants/draw.constants';\nimport { Dispatch } from '../../../../core/helpers/store';\nimport { RootSate } from '../../../../core/reducers/root.reducer';\nimport { drawService } from '../../../../core/services/draw.service';\nimport './MainView.scss';\n\nconst CANVAS_WIDTH = 712;\nconst CANVAS_HEIGHT = 632;\nconst CANVAS_MARGIN = 50;\n\ninterface MainViewProps {\n  tool: string;\n  isDraw: boolean;\n  color: string;\n  size: string;\n  dispatch: Dispatch;\n  img: HTMLImageElement;\n  context: CanvasRenderingContext2D | null;\n}\n\nfunction MainView({ tool, isDraw, color, size, dispatch, img, context }: MainViewProps): JSX.Element {\n  const canvasRef = useRef<HTMLCanvasElement | null>(null);\n  const mainviewRef = useRef<HTMLDivElement | null>(null);\n  const startX = useRef<number>(0);\n  const startY = useRef<number>(0);\n\n  const handleMouseDown = ({ clientX, clientY }: MouseEvent) => {\n    dispatch(drawActions.hideSizeBar());\n    dispatch(drawActions.hideShapeBar());\n    if (canvasRef && canvasRef.current && context && tool) {\n      dispatch(drawActions.startDraw());\n      const mouseX = clientX - canvasRef.current.offsetLeft;\n      const mouseY = clientY - canvasRef.current.offsetTop;\n\n      if (tool === drawConstants.PAINTBRUSH) {\n        drawService.drawPoint(context, mouseX, mouseY, color, size, img);\n      } else {\n        startX.current = mouseX;\n        startY.current = mouseY;\n      }\n    }\n  };\n\n  const handleMouseMove = ({ clientX, clientY }: MouseEvent) => {\n    if (canvasRef && canvasRef.current && context) {\n      const mouseX = clientX - canvasRef.current.offsetLeft;\n      const mouseY = clientY - canvasRef.current.offsetTop;\n      const width = mouseX - startX.current;\n      const height = mouseY - startY.current;\n\n      if (isDraw && tool === drawConstants.PAINTBRUSH) {\n        drawService.drawPoint(context, mouseX, mouseY, color, size, img);\n      } else if (isDraw && tool === drawConstants.LINE) {\n        drawService.drawLine(context, size, color, startX.current, startY.current, mouseX, mouseY, img);\n      } else if (isDraw && tool === drawConstants.CIRCLE) {\n        drawService.drawCircle(context, startX.current, startY.current, width, height, color, img);\n      } else if (isDraw && tool === drawConstants.RECTANGLE) {\n        drawService.drawRectangle(context, startX.current, startY.current, width, height, color, img);\n      } else if (isDraw && tool === drawConstants.STAR) {\n        const outerRadius = width + height;\n        drawService.drawStar(context, startX.current, startY.current, outerRadius, color, img);\n      } else if (isDraw && tool === drawConstants.HEXAGON) {\n        drawService.drawHexagon(context, startX.current, startY.current, width, color, img);\n      }\n    }\n  };\n\n  const handleMouseUp = useCallback(() => {\n    if (canvasRef && canvasRef.current) {\n      dispatch(drawActions.setImg(drawService.createImg(canvasRef.current)));\n    }\n    drawService.clearFromPaintbrush();\n    dispatch(drawActions.stopDraw());\n  }, [dispatch]);\n\n  const handleMouseLeave = () => {\n    if (tool === drawConstants.PAINTBRUSH && canvasRef && canvasRef.current) {\n      dispatch(drawActions.setImg(drawService.createImg(canvasRef.current)));\n      drawService.clearFromPaintbrush();\n    }\n  };\n\n  const handleResize = useCallback(() => {\n    if (canvasRef && canvasRef.current && mainviewRef && mainviewRef.current) {\n      canvasRef.current.width = mainviewRef.current.clientWidth;\n      canvasRef.current.height = mainviewRef.current.clientHeight;\n      dispatch(drawActions.setContext(drawService.createContext(canvasRef.current)));\n    }\n  }, [dispatch]);\n\n  useEffect(() => {\n    if (canvasRef && canvasRef.current) {\n      canvasRef.current.height = window.innerHeight;\n      if (window.innerWidth < CANVAS_WIDTH) {\n        canvasRef.current.width = window.innerWidth - CANVAS_MARGIN;\n      }\n\n      dispatch(drawActions.setContext(drawService.createContext(canvasRef.current)));\n    }\n\n    window.addEventListener('resize', handleResize);\n\n    return () => window.removeEventListener('resize', handleResize);\n  }, [dispatch, handleResize]);\n\n  useEffect(() => {\n    document.addEventListener('mouseup', handleMouseUp);\n\n    return () => document.removeEventListener('mouseup', handleMouseUp);\n  }, [handleMouseUp]);\n\n  return (\n    <div className=\"mainview\" ref={mainviewRef}>\n      <canvas\n        className=\"mainview__canvas\"\n        id=\"mainview\"\n        ref={canvasRef}\n        width={CANVAS_WIDTH}\n        height={CANVAS_HEIGHT}\n        onMouseDown={handleMouseDown}\n        onMouseMove={handleMouseMove}\n        onMouseUp={handleMouseUp}\n        onMouseLeave={handleMouseLeave}\n      ></canvas>\n    </div>\n  );\n}\n\nfunction mapStateToProps({ drawReducer: { tool, isDraw, color, dispatch, size, img, context } }: RootSate) {\n  return { tool, isDraw, color, dispatch, size, img, context };\n}\n\nexport default connect(mapStateToProps)(MainView);\n","import './Paint.scss';\nimport PaintToolBar from './components/PaintToolBar/PaintToolBar';\nimport MainView from './components/MainView/MainView';\nimport React from 'react';\n\nfunction Paint(): JSX.Element {\n  return (\n    <div className=\"paint\">\n      <MainView />\n      <PaintToolBar />\n    </div>\n  );\n}\n\nexport default React.memo(Paint);\n","export enum showConstants {\n  SUCCESS_DOWNLOAD = 'SUCCESS_DOWNLOAD',\n  FILTER_IMAGES = 'FILTER_IMAGES',\n  SET_IMAGES = 'SET_IMAGES',\n  SUCCESS_DOWNLOAD_USERS = 'SUCCESS_DOWNLOAD_USERS',\n}\n","import { ThunkAction } from 'redux-thunk';\nimport { showConstants } from '../constants/show.constants';\nimport { ShowState } from '../reducers/show.reducer';\nimport { firebaseDbService, Image } from '../services/firebase.db.service';\nimport { User } from './auth.actions';\n\nexport const showActions = {\n  getImages,\n  filterImages,\n  setImages,\n  getUsers,\n};\n\ninterface SuccessDownloadAction {\n  type: typeof showConstants.SUCCESS_DOWNLOAD;\n  payload: Record<string, Image>;\n}\n\ninterface FilterImagesAction {\n  type: typeof showConstants.FILTER_IMAGES;\n  payload: string;\n}\n\ninterface SetImagesAction {\n  type: typeof showConstants.SET_IMAGES;\n  payload: Record<string, Image>;\n}\n\ninterface SuccessDownloadUsersAction {\n  type: typeof showConstants.SUCCESS_DOWNLOAD_USERS;\n  payload: Record<string, User>;\n}\n\nexport type ShowAction = SuccessDownloadAction | FilterImagesAction | SetImagesAction | SuccessDownloadUsersAction;\n\nexport type ShowThunkAction = ThunkAction<void, ShowState, unknown, ShowAction>;\n\nfunction successDownload(data: Record<string, Image>): SuccessDownloadAction {\n  return {\n    type: showConstants.SUCCESS_DOWNLOAD,\n    payload: data,\n  };\n}\n\nfunction successDownloadUsers(data: Record<string, User>): SuccessDownloadUsersAction {\n  return {\n    type: showConstants.SUCCESS_DOWNLOAD_USERS,\n    payload: data,\n  };\n}\n\nfunction setImages(images: Record<string, Image>): SetImagesAction {\n  return {\n    type: showConstants.SET_IMAGES,\n    payload: images,\n  };\n}\n\nfunction filterImages(key: string): FilterImagesAction {\n  return {\n    type: showConstants.FILTER_IMAGES,\n    payload: key,\n  };\n}\n\nfunction getImages(): ShowThunkAction {\n  return (dispatch) => {\n    firebaseDbService.onImages().then((data) => {\n      dispatch(successDownload(data));\n    });\n  };\n}\n\nfunction getUsers(): ShowThunkAction {\n  return (dispatch) => {\n    firebaseDbService.onUsers().then((data) => {\n      dispatch(successDownloadUsers(data));\n    });\n  };\n}\n","import React, { useEffect, useMemo } from 'react';\nimport { connect, useDispatch } from 'react-redux';\nimport scrollIntoView from 'scroll-into-view-if-needed';\nimport { showActions } from '../../../../core/actions/show.actions';\nimport { RootSate } from '../../../../core/reducers/root.reducer';\nimport { Image } from '../../../../core/services/firebase.db.service';\nimport './GalleryList.scss';\n\ninterface GalleryListProps {\n  images: Record<string, Image>;\n  filtredKey: string;\n}\n\nfunction createImgList(images: Record<string, Image>, filtredKey: string) {\n  let filteredImages = Object.values(images);\n\n  if (filtredKey !== 'all') {\n    filteredImages = filteredImages.filter((item) => item.uid === filtredKey);\n  }\n\n  return filteredImages.map((item, i, arr) => (\n    <li className=\"gallery-list__item\" id={i === arr.length - 1 ? 'last' : undefined} key={item.image}>\n      <img src={item.image} alt=\"\" />\n    </li>\n  ));\n}\n\nfunction GalleryList({ images, filtredKey }: GalleryListProps): JSX.Element {\n  const dispatch = useDispatch();\n  const imgList = useMemo(() => createImgList(images, filtredKey), [images, filtredKey]);\n\n  useEffect(() => {\n    dispatch(showActions.getImages());\n    dispatch(showActions.getUsers());\n  }, [dispatch]);\n\n  useEffect(() => {\n    const last = document.querySelector('#last');\n\n    if (last) {\n      scrollIntoView(last, { block: 'center', inline: 'center' });\n    }\n  });\n\n  return <ul className=\"gallery-list\">{imgList}</ul>;\n}\n\nfunction mapStateToProps({ showReducer: { images, filtredKey } }: RootSate) {\n  return { images, filtredKey };\n}\n\nexport default connect(mapStateToProps)(React.memo(GalleryList));\n","import { AuthAction, User } from '../actions/auth.actions';\nimport { authConstants } from '../constants/auth.constants';\n\nconst initState = {\n  loading: false,\n  user: null,\n  currentUserId: null,\n};\n\nexport interface AuthState {\n  loading: boolean;\n  user: User | null;\n  currentUserId: string | null;\n}\n\nexport function authReducer(state = initState, action: AuthAction): AuthState {\n  switch (action.type) {\n    case authConstants.REQUEST:\n      return { ...state, loading: true };\n    case authConstants.SUCCESS:\n      return {\n        ...state,\n        loading: false,\n        user: action.payload,\n      };\n    case authConstants.ERROR:\n      return { ...state, loading: false };\n    case authConstants.SIGNOUT:\n      return initState;\n    case authConstants.SET_CURRENT_USER_ID:\n      return { ...state, currentUserId: action.payload };\n    default:\n      return state;\n  }\n}\n","import { DrawActions } from '../actions/draw.actions';\nimport { drawConstants } from '../constants/draw.constants';\n\nconst initState = {\n  tool: null,\n  isDraw: false,\n  color: '#000',\n  isShowedSizeBar: false,\n  size: '5',\n  isShowedShapeBar: false,\n  img: null,\n  context: null,\n  isClean: true,\n};\n\nexport interface DrawState {\n  tool: string | null;\n  isDraw: boolean;\n  color: string;\n  isShowedSizeBar: boolean;\n  size: string;\n  isShowedShapeBar: boolean;\n  img: HTMLImageElement | null;\n  context: CanvasRenderingContext2D | null;\n  isClean: boolean;\n}\n\nexport function drawReducer(state = initState, action: DrawActions): DrawState {\n  switch (action.type) {\n    case drawConstants.NO_TOOL:\n      return { ...state, tool: null };\n    case drawConstants.PAINTBRUSH:\n      return { ...state, tool: drawConstants.PAINTBRUSH };\n    case drawConstants.LINE:\n      return { ...state, tool: drawConstants.LINE };\n    case drawConstants.RECTANGLE:\n      return { ...state, tool: drawConstants.RECTANGLE };\n    case drawConstants.CIRCLE:\n      return { ...state, tool: drawConstants.CIRCLE };\n    case drawConstants.STAR:\n      return { ...state, tool: drawConstants.STAR };\n    case drawConstants.HEXAGON:\n      return { ...state, tool: drawConstants.HEXAGON };\n    case drawConstants.START_DRAW:\n      return { ...state, isDraw: true, isClean: false };\n    case drawConstants.STOP_DRAW:\n      return { ...state, isDraw: false };\n    case drawConstants.SET_COLOR:\n      return { ...state, color: action.payload };\n    case drawConstants.SHOW_SIZE_BAR:\n      return { ...state, isShowedSizeBar: true };\n    case drawConstants.HIDE_SIZE_BAR:\n      return { ...state, isShowedSizeBar: false };\n    case drawConstants.SET_SIZE:\n      return { ...state, size: action.payload };\n    case drawConstants.SHOW_SHAPE_BAR:\n      return { ...state, isShowedShapeBar: true };\n    case drawConstants.HIDE_SHAPE_BAR:\n      return { ...state, isShowedShapeBar: false };\n    case drawConstants.SET_IMG:\n      return { ...state, img: action.payload };\n    case drawConstants.DELETE_IMG:\n      return { ...state, img: null };\n    case drawConstants.SET_CONTEXT:\n      return { ...state, context: action.payload };\n    case drawConstants.CLEAR:\n      return { ...state, isClean: true };\n    default:\n      return state;\n  }\n}\n","import { User } from '../actions/auth.actions';\nimport { ShowAction } from '../actions/show.actions';\nimport { showConstants } from '../constants/show.constants';\nimport { Image } from '../services/firebase.db.service';\n\nconst initState = {\n  images: {},\n  users: {},\n  filtredImages: {},\n  filtredKey: 'all',\n};\n\nexport interface ShowState {\n  images: Record<string, Image>;\n  users: Record<string, User>;\n  filtredImages: Record<string, Image>;\n  filtredKey: string;\n}\n\nexport function showReducer(state = initState, action: ShowAction): ShowState {\n  switch (action.type) {\n    case showConstants.SUCCESS_DOWNLOAD:\n      return { ...state, images: { ...action.payload } };\n    case showConstants.FILTER_IMAGES:\n      return { ...state, filtredKey: action.payload };\n    case showConstants.SET_IMAGES:\n      return { ...state, filtredImages: { ...action.payload } };\n    case showConstants.SUCCESS_DOWNLOAD_USERS:\n      return { ...state, users: { ...action.payload } };\n    default:\n      return state;\n  }\n}\n","import { combineReducers } from 'redux';\nimport { authReducer } from './auth.reducer';\nimport { drawReducer } from './draw.reducer';\nimport { showReducer } from './show.reducer';\n\nexport const rootReducer = combineReducers({\n  authReducer,\n  drawReducer,\n  showReducer,\n});\n\nexport type RootSate = ReturnType<typeof rootReducer>;\n","import { applyMiddleware, createStore } from 'redux';\nimport { rootReducer } from '../reducers/root.reducer';\nimport thunk from 'redux-thunk';\n\nexport const store = createStore(rootReducer, applyMiddleware(thunk));\n\nexport type Dispatch = typeof store.dispatch;\n","import React, { ChangeEvent, useMemo } from 'react';\nimport { connect } from 'react-redux';\nimport { User } from '../../../../core/actions/auth.actions';\nimport { showActions } from '../../../../core/actions/show.actions';\nimport { store } from '../../../../core/helpers/store';\nimport { RootSate } from '../../../../core/reducers/root.reducer';\nimport { Image } from '../../../../core/services/firebase.db.service';\nimport './Filter.scss';\n\nconst VALUE_INDEX = 1;\nconst ALL = 'all';\n\ninterface FilterProps {\n  images: Record<string, Image>;\n  filtredKey: string;\n  users: Record<string, User>;\n}\n\nfunction createOptions(images: Record<string, Image>, users: Record<string, User>): Array<JSX.Element> {\n  const emails = Object.values(images)\n    .filter(({ uid }) => users.hasOwnProperty(uid))\n    .map(({ uid }) => users[uid].email);\n\n  const usersWithImg = Object.entries(users).filter((user) => emails.includes(user[VALUE_INDEX].email));\n\n  usersWithImg.push([ALL, { email: ALL }]);\n\n  return usersWithImg.map(([uid, value]) => {\n    return (\n      <option key={uid} value={uid}>\n        {value.email}\n      </option>\n    );\n  });\n}\n\nfunction Filter({ filtredKey, images, users }: FilterProps) {\n  const options = useMemo(() => createOptions(images, users), [images, users]);\n\n  const handleChange = ({ target: { value } }: ChangeEvent<HTMLSelectElement>) => {\n    store.dispatch(showActions.filterImages(value));\n  };\n\n  return (\n    <select className=\"filter\" value={filtredKey} onChange={handleChange}>\n      {options}\n    </select>\n  );\n}\n\nfunction mapStateToProps({ showReducer: { filtredKey, images, users } }: RootSate) {\n  return { filtredKey, images, users };\n}\n\nexport default connect(mapStateToProps)(React.memo(Filter));\n","import PaintButton from '../../../../core/components/PaintButton/PaintButton';\nimport SignoutButton from '../../../../core/components/SignoutButton/SignoutButton';\nimport './GalleryToolBar.scss';\nimport pencil from '../../../../assets/img/pencil.svg';\nimport { history } from '../../../../core/helpers/history';\nimport { routeConstants } from '../../../../core/constants/route.constants';\nimport Filter from '../Filter/Filter';\nimport React, { useCallback } from 'react';\n\nfunction GalleryToolBar(): JSX.Element {\n  const handleClick = useCallback(() => {\n    history.push(routeConstants.PAINT);\n  }, []);\n\n  return (\n    <div className=\"gallery-toolbar\">\n      <SignoutButton />\n      <Filter />\n      <PaintButton onClick={handleClick}>\n        <img src={pencil} alt=\"\" />\n      </PaintButton>\n    </div>\n  );\n}\n\nexport default React.memo(GalleryToolBar);\n","import React from 'react';\nimport GalleryList from './components/GalleryList/GalleryList';\nimport GalleryToolBar from './components/GalleryToolBar/GalleryToolBar';\nimport './Gallery.scss';\n\nfunction Gallery(): JSX.Element {\n  return (\n    <div className=\"gallery\">\n      <GalleryToolBar />\n      <GalleryList />\n    </div>\n  );\n}\n\nexport default React.memo(Gallery);\n","import './App.scss';\nimport { Router, Switch, Route } from 'react-router-dom';\nimport PrivateRoute from './core/components/PrivateRoute/PrivateRoute';\nimport { routeConstants } from './core/constants/route.constants';\nimport Signin from './pages/Signin/Signin';\nimport Register from './pages/Register/Register';\nimport { history } from './core/helpers/history';\nimport Paint from './pages/Paint/Paint';\nimport Gallery from './pages/Gallery/Gallery';\n\nfunction App(): JSX.Element {\n  return (\n    <div className=\"main\">\n      <div className=\"container\">\n        <Router history={history}>\n          <Switch>\n            <PrivateRoute exact path={routeConstants.GALLERY} component={Gallery} />\n            <PrivateRoute path={routeConstants.PAINT} component={Paint} />\n            <Route path={routeConstants.SIGNIN} component={Signin} />\n            <Route path={routeConstants.REGISTER} component={Register} />\n          </Switch>\n        </Router>\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","import ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport './index.scss';\nimport App from './App';\nimport { store } from './core/helpers/store';\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.querySelector('#root'),\n);\n"],"sourceRoot":""}